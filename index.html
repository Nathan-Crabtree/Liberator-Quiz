<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liberator Quiz Test File</title>
    <link type='text/css' rel='stylesheet' href='stylesheet.css'/>
	<!-- <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open Sans"/> -->
    <style>
        body {
        font-family: Open Sans;
        }

        h1 {
        text-align: center;
        }

        #title {
        text-decoration: underline;
        }

        #quiz {
        text-indent: 10px;
        display:none;
        }

        .button {
        border:4px solid;
        border-radius:5px;
        width: 40px;
        padding-left:5px;
        padding-right: 5px;
        position: relative;
        float:right;
        background-color: #DCDCDC;
        color: black;
        margin: 0 2px 0 2px;
        }

        .button.active {
        background-color: #F8F8FF;
        color: #525252;
        }

        button {
        position: relative;
        float:right;
        }

        .button a {
        text-decoration: none;
        color: black;
        }

        #container {
        width:50%;
        margin:auto;
        padding: 0 25px 40px 10px;
        /* background-color: #1E90FF; */
        /* border:4px solid #B0E0E6; */
        border:4px solid;
        border-radius:5px;
        /* color: #FFFFFF; */
        font-weight: bold;
        box-shadow: 5px 5px 5px #888;
        }

        ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
        }

        #prev {
        display:none;
        }

        #start {
        display:none;
        width: 90px;
        }
    </style>
</head>
<body>
    <div id='container'>
        <div id='title'>
            <h1>Liberator Quiz Example</h1>
        </div>
           <br/>
          <div id='quiz'></div>
        <div class='button' id='next'><a href='#'>Next</a></div>
        <div class='button' id='prev'><a href='#'>Prev</a></div>
        <div class='button' id='start'> <a href='#'>Start Over</a></div>
        <!-- <button class='' id='next'>Next</a></button>
        <button class='' id='prev'>Prev</a></button>
        <button class='' id='start'> Start Over</a></button> -->
    </div>

    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js'></script>
    <!-- <script type="text/javascript" src='questions.json'></script> -->
    <!-- <script type='text/javascript' src='app.js'></script> -->
    <script type='text/javascript'>
        (function() {
            var questions = [{
            question: "Do you have the moral right to rule or dominate another individual against their will?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Does anyone have the moral right to rule or dominate you, if you don't want them to rule or dominate you?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Does anyone have a legitimately higher claim over your life and property than you?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Do you have a legitimately higher claim over the life and property of another?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Do you have a legitimate right to steal your neighbors stuff?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Does anyone have the legitimate right to steal your stuff?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "If you don't have the right to steal from or harm another person, can you confer that right (that you don't have) onto another person or group?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Do those who wield political power (presidents, legislators, etc.) have the moral right to do things which other people do not have the moral right to do? If so, from whom and how did they acquire such a right?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Is there any means by which any number of individuals can delegate to someone else the moral right to do something which none of the individuals have the moral right to do themselves?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Is there any process (e.g., constitutions, elections, legislation) by which human beings can transform an immoral act into a moral act (without changing the act itself)?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "When law-makers and law-enforcers use coercion and force in the name of law and government, do they bear the same responsibility for their actions that anyone else would who did the same thing on his own?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "When there is a conflict between an individual's own moral conscience, and the commands of a political authority, is the individual morally obligated to do what he personally views as wrong in order to \"obey the law\"?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Do you think two people have a right to trade with each other independent of any third-party if they want to?",
            choices: ["Yes","No"],
            correctAnswer: 0
            }, {
            question: "Can you limit slavery or violence if it’s seen by everyone as legitimate?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "If stealing 100% of the product of someone's labor is slavery, at what percentage is it not slavery?",
            choices: ["0%","Somewhere between 100% and 0%"],
            correctAnswer: 0
            }, {
            question: "How does every order in government get carried out? By who and how?",
            choices: ["Violence, Nonconsensual, Order-Followers, Some Scribbles On A Piece Of Paper","\"Our Representatives, Army, Police, Using The Lawful/Legal Procedures\""],
            correctAnswer: 0
            }, {
            question: "Who seeks or desires power?",
            choices: ["People who do evil","People who love others"],
            correctAnswer: 0
            }, {
            question: "Do you actually consent to be within a government?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Is any evil \"necessary\"?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Are we equal in Rights? (Are people in the capacity to have freedom or self-ownership)",
            choices: ["Yes","No"],
            correctAnswer: 0
            }, {
            question: "How do we change the world?",
            choices: ["Education, good ideas do not require force.","Laws, good ideas require force for compliance."],
            correctAnswer: 0
            }, {
            question: "You want to fund something that will benefit many people, but have inadequate resources for it. Your neighbor has enough money to fund it, but doesn't want to because he does not benefit from it, do you have the right to forcibly take his money?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Part 2: In the case of making your neighbor pay against his consent... What about if ten people wanted to? Or a million? What if the million people voted for a representative to have the right to forcibly take his money? Would that make it okay?",
            choices: ["It can become moral.","It is still immoral"],
            correctAnswer: 1
            }, {
            question: "Does getting a new slave master or going to a different plantation help achieve real freedom?",
            choices: ["Yes","No"],
            correctAnswer: 1
            }, {
            question: "Government is...?",
            choices: ["A monopoly on violence; slavery; organized violator of individual Rights","A system where people come together to make decisions"],
            correctAnswer: 0
            }, {
            question: "Where is the problem that can be prevented, between \"authority\" and a criminal?",
            choices: ["A criminal does wrong doing and leaves, everyone generally sees as immoral.","An \"authority\" does wrong doing and continues, everyone generally sees as moral."],
            correctAnswer: 1
            }, {
            question: "What is responsible for every major atrocity in history?",
            choices: ["Order followers who actively carry out the orders of the few; democide","One person with evil intentions"],
            correctAnswer: 0
            }, {
            question: "How do people initially become slaves?",
            choices: ["War, capture, jailing systems, indoctrination, fear for compliance","Being chained, working on a plantation"],
            correctAnswer: 0
            }, {
            question: "What is the top cause of unnatural death?",
            choices: ["Democide","Heart Attack"],
            correctAnswer: 0
            }, {
            question: "What is the nature of human beings?",
            choices: ["Human nature can only follow orders. We can't be responsible.","Human nature is programmable. We can be responsible."],
            correctAnswer: 1
            }, {
            question: "What am I spending time on and paying attention to?",
            choices: ["The news, movies, culture, entertainment. I want to be distracted.","Education, self-care, research, nature. I want to have purpose and create change."],
            correctAnswer: 1
            }, {
            question: "Scenario: A computer technician shows up at your house, \"I am now your computer technician, and you are not allowed to refuse my services.\" He will take your computer if you do not pay him. Do you own the computer?",
            choices: ["The computer is mine, the technician is a thief, his service should be voluntary","The computer is his, the technician is necessary for the greater good"],
            correctAnswer: 0
            }, {
            question: "Scenario: A person says you aren't allowed to put your jacket in your car, or a certain piece of furniture at home. Why would most people would not accept that, but do accept prohibition or banning substances?",
            choices: ["It's all people's opinion; neither violates another person; they are individual","One action is worse than the other; individuals must be told what to do"],
            correctAnswer: 0
            }, {
            question: "\"If it’s unpleasant, I don’t want to: hear it, see it, or tell others about it! I’ll ignore it, and it'll go away.\" What happens when you would do that with, for example, an illness, or any other problem?",
            choices: ["It doesn't tend to get better; it tends to gets worse","It tends to get better; it doesn't tend to get worse"],
            correctAnswer: 0
            }, {
            question: "If the simple truth about a belief system could change the world, wouldn’t we all already know about it, and wouldn’t we have put it into practice long ago?",
            choices: ["Yes, we are race of thinking, objective beings","No, people don't want to consider their own beliefs"],
            correctAnswer: 1
            }, {
            question: "What kind of people want to live in perpetual refusal to their personal responsibility, because they have nested traumatic issues that have led to self-loathing and lack of self-respect?",
            choices: ["Mature Adults","Immature Children"],
            correctAnswer: 1
            }, {
            question: "How do we help to heal others?",
            choices: ["Guidance, support, honesty, accountability, listening, care, holistic thinking","Authoritarian control, dictating what to do, following the script"],
            correctAnswer: 0
            }, {
            question: "Will/Have you read \"The Most Dangerous Superstition\" by Larken Rose? Will you check out other resources?",
            choices: ["Yes","No"],
            correctAnswer: 0
            }];
            
            var questionCounter = 0; //Tracks question number
            var selections = []; //Array containing user choices
            var quiz = $('#quiz'); //Quiz div object
            
            // Display initial question
            displayNext();
            
            // Click handler for the 'next' button
            $('#next').on('click', function (e) {
                e.preventDefault();
                
                // Suspend click listener during fade animation
                if(quiz.is(':animated')) {        
                    return false;
                }
                console.log('runnining choose()')
                choose();
                console.log('done running choose()')
                // If no user selection, progress is stopped
                if (isNaN(selections[questionCounter])) {
                    alert('Please make a selection!');
                } else {
                    questionCounter++;
                    displayNext();
                }
            });
            
            // Click handler for the 'prev' button
            $('#prev').on('click', function (e) {
                e.preventDefault();
                
                if(quiz.is(':animated')) {
                    return false;
                }
                choose();
                questionCounter--;
                displayNext();
            });
            
            // Click handler for the 'Start Over' button
            $('#start').on('click', function (e) {
                e.preventDefault();
                
                if(quiz.is(':animated')) {
                    return false;
                }
                questionCounter = 0;
                selections = [];
                displayNext();
                $('#start').hide();
            });
            
            // Animates buttons on hover
            $('.button').on('mouseenter', function () {
                $(this).addClass('active');
            });
            $('.button').on('mouseleave', function () {
                $(this).removeClass('active');
            });
            
            // Creates and returns the div that contains the questions and 
            // the answer selections
            function createQuestionElement(index) {
                var qElement = $('<div>', {
                    id: 'question'
                });
                console.log("createQuestionElement selections[questionCounter] = ", selections[questionCounter])

                var header = $('<h2>Question ' + (index + 1) + ':</h2>');
                qElement.append(header);
                
                var question = $('<p>').append(questions[index].question);
                qElement.append(question);
                
                var radioButtons = createRadios(index);
                qElement.append(radioButtons);
                
                return qElement;
            }
            // Creates and returns the div that contains the answer and 
            // correct/incorect message
            function createAnswerElement(index) {
                var aElement = $('<div>', {
                    id: 'answer'
                });
                console.log("createAnswerElement questionCounter = ", questionCounter)
                console.log("createAnswerElement selections[questionCounter] = ", selections[questionCounter -1])
                console.log("createAnswerElement questions[index].correctAnswer = ", questions[index].correctAnswer)
                if(selections[questionCounter - 1] === questions[index].correctAnswer){
                    aElement.append("<h2>Correct!");
                }else{
                    aElement.append("<h2>Incorrect");
                }

                return aElement;
            }
            // Creates a list of the answer choices as radio inputs
            function createRadios(index) {
                var radioList = $('<ul>');
                var item;
                var input = '';
                for (var i = 0; i < questions[index].choices.length; i++) {
                    item = $('<li>');
                    input = '<input type="radio" name="answer" value=' + i + ' />';
                    input += questions[index].choices[i];
                    item.append(input);
                    radioList.append(item);
                }
                return radioList;
            }
            
            // Reads the user selection and pushes the value to an array
            function choose() {
                selections[questionCounter] = +$('input[name="answer"]:checked').val();
                console.log("choose questionCounter = ", questionCounter)
                console.log('SELECTIONS[questionCounter = ', selections[questionCounter] )
            }
            
            // Displays next requested element
            function displayNext() {
                console.log("displayNext1 questionCounter = ", questionCounter)
                console.log("displayNext1 selections[questionCounter - 1] = ", selections[questionCounter -1 ])
                var answer = createAnswerElement(questionCounter);

                //quiz.append(answer).fadeIn();
                quiz.append(answer);
                setTimeout(function(){alert('pause')}, 5000);

                quiz.fadeOut(function() {
                    $('#question').remove();
                    console.log("displayNext1 questionCounter = ", questionCounter)
                    console.log("displayNext2 selections[questionCounter] = ", selections[questionCounter])

                    $('#answer').remove();
                    if(questionCounter < questions.length){
                        var nextQuestion = createQuestionElement(questionCounter);
                        quiz.append(nextQuestion).fadeIn();
                        if (!(isNaN(selections[questionCounter]))) {
                            $('input[value='+selections[questionCounter]+']').prop('checked', true);
                        }
                        
                        // Controls display of 'prev' button
                        if(questionCounter === 1){
                            $('#prev').show();
                        } else if(questionCounter === 0){
                            
                            $('#prev').hide();
                            $('#next').show();
                        }
                    }else {
                        var scoreElem = displayScore();
                        quiz.append(scoreElem).fadeIn();
                        $('#next').hide();
                        $('#prev').hide();
                        $('#start').show();
                    }
                });
            }
            
            // Computes score and returns a paragraph element to be displayed
            function displayScore() {
                var score = $('<p>',{id: 'question'});
                
                var numCorrect = 0;
                for (var i = 0; i < selections.length; i++) {
                    if (selections[i] === questions[i].correctAnswer) {
                    numCorrect++;
                    }
                }
                
                score.append('You got ' + numCorrect + ' questions out of ' +
                            questions.length + ' right!!!');
                return score;
            }
        })();
    </script>
</body>
</html>